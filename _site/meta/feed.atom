<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="http://jekyllrb.com" version="3.4.3">Jekyll</generator><link href="/meta/feed.atom" rel="self" type="application/atom+xml" /><link href="/" rel="alternate" type="text/html" /><updated>2017-05-15T03:13:53+01:00</updated><id>/</id><title type="html">46b.it</title><entry><title type="html">New horizons</title><link href="/2017/new-horizons/" rel="alternate" type="text/html" title="New horizons" /><published>2017-05-16T00:00:00+01:00</published><updated>2017-05-16T00:00:00+01:00</updated><id>/2017/new-horizons</id><content type="html" xml:base="/2017/new-horizons/">&lt;p&gt;I handed in my dissertation two weeks ago. There’s a few things to finish up but the major things I’ve wanted to deliver this year - a cryptanalysis report, an evolutionary computing experiment, my video processing dissertation - are all done. So from my perspective I’m pretty much done and awaiting Graduation come July!&lt;/p&gt;

&lt;p&gt;The Masters year was exhausting and I’m a little burned out, so I’m hoping not to rush into anything. I’ve wanted to go travelling in Europe for a few years now but kept finding interesting internships instead. Now between University and what-comes-after I have a natural gap.
&lt;!--more--&gt;&lt;/p&gt;

&lt;p&gt;Friends, culture and history put Paris, Amsterdam, Berlin and Greece on the list. I’d like to follow Archaeological data I worked with into the Troodos Mountains in Cyprus, but I think that will be a trip in itself.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p style=&quot;font-size: 18px;&quot;&gt;“And the danger is that in this move toward new horizons and far directions, that I may lose what I have now, and not find anything except loneliness.”
&lt;br /&gt;—Sylvia Plath, The Unabridged Journals of Sylvia Plath&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;That quote above is one a friend sent me. They’re moving back to Asia, away from the friends they’ve made here in York and back to a very different culture. I sympathise in my own way: I grew up in an isolated village and adopted York as my hometown.&lt;/p&gt;

&lt;p&gt;Over these six years London, Hamburg, the San Francisco Bay Area, Cambridge, MA and a few other cities in the U.S. have gained wonderful memories as well. This totally means I don’t have to worry, and yet the Plath quote remains.&lt;/p&gt;

&lt;p&gt;I’ve chatted with a lot of people about what to do next. It needs to be a step up, and yet it’s hard to know what a step up from effective-CTO of a technically hard startup would be. Delivering in a larger organisation? “Cross-functional agile teams?” Engineering technically-harder things? Making better startup decisions the second time around?&lt;/p&gt;

&lt;p&gt;I’m gonna find out.&lt;/p&gt;

&lt;!--
End of the day, it just has to be rewarding and worthwhile while either paying the bills or working around them.

The UK has taken a disturbing turn in the last year, and I don't quite know what it means for my or our future.

If I want to focus on engineering I'd like to work with Distributed Systems at an organisation that does good. If I want to mix product and engineering I'd either look at Product Manager or head back into startups. If I want to

The UK has taken a disturbing turn in the last year, and I don't quite know what it means for my or our future.

head back into startups I have a choice of doing my own - Dreamforge taught me a lot about the early-stage - or finding a team and direction I like.

I've chatted with a lot of people about what to do next. Deciding on a career direction is tricky. If I want to focus on engineering I'd like to work with Microservices and Distributed Systems somewhere that does good. If I want to head back into startups I have a choice of doing my own - Dreamforge taught me a lot about the early-stage - or finding a team and direction I like.
--&gt;</content><author><name></name></author><summary type="html">I handed in my dissertation two weeks ago. There’s a few things to finish up but the major things I’ve wanted to deliver this year - a cryptanalysis report, an evolutionary computing experiment, my video processing dissertation - are all done. So from my perspective I’m pretty much done and awaiting Graduation come July! The Masters year was exhausting and I’m a little burned out, so I’m hoping not to rush into anything. I’ve wanted to go travelling in Europe for a few years now but kept finding interesting internships instead. Now between University and what-comes-after I have a natural gap.</summary></entry><entry><title type="html">Tilewater, a miniature city builder.</title><link href="/2017/tilewater/" rel="alternate" type="text/html" title="Tilewater, a miniature city builder." /><published>2017-05-15T00:00:00+01:00</published><updated>2017-05-15T00:00:00+01:00</updated><id>/2017/tilewater</id><content type="html" xml:base="/2017/tilewater/">&lt;p&gt;Tilewater is a little sandbox game I’ve built in Rust. It’s a sandbox game, where you place roads and buildings and simulated people (&lt;em&gt;sims&lt;/em&gt;) live out their lives in the world you’ve built.&lt;/p&gt;

&lt;p&gt;Sims arrive by train, move into their &lt;span style=&quot;padding: 0 6px; background: green; color: white; font-weight: bold;&quot;&gt;houses&lt;/span&gt;, visit &lt;span style=&quot;padding: 0 6px; background: purple; color: white; font-weight: bold;&quot;&gt;general stores&lt;/span&gt; for their groceries, visit &lt;span style=&quot;padding: 0 6px; background: blue; color: white; font-weight: bold;&quot;&gt;saloons&lt;/span&gt; to drink and find work, and then work in &lt;span style=&quot;padding: 0 6px; background: red; color: white; font-weight: bold;&quot;&gt;factories&lt;/span&gt;. Play the video to see it in action:&lt;/p&gt;

&lt;p&gt;&lt;div style=&quot;position:relative;width:100%;height:0;padding-bottom:90.05%;&quot;&gt;&lt;iframe width=&quot;500&quot; height=&quot;294&quot; style=&quot;position:absolute;top:0;left:0;width:100%;height:100%;&quot; src=&quot;https://www.youtube-nocookie.com/embed/Z_5WOXicQbc?rel=0&amp;amp;showinfo=0&amp;amp;modestbranding=1&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/p&gt;
&lt;!--more--&gt;

&lt;p&gt;It’s still early days and I’ve been experimenting with sims building their own roads, more efficient pathfinding, and properly simulating an economy. The representation of buildings as &lt;code class=&quot;highlighter-rouge&quot;&gt;1x1&lt;/code&gt; squares is something I find cute, and I plan to make them bigger on the inside than the outside similar to &lt;a href=&quot;https://mods.factorio.com/mods/MagmaMcFry/Factorissimo&quot;&gt;Factorissimo&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Tilewater originated out of a bit of ennui. I submitted my dissertation, &lt;strong&gt;&lt;a href=&quot;https://r.46b.it/timelapse-extrapolation.pdf&quot;&gt;Time-lapse Extrapolation&lt;/a&gt;&lt;/strong&gt;, last Tuesday. Getting it done was intense, as those of you who have done degrees no-doubt relate to. In the preceding weekend I’d worked 26 hours solid and then 14 or 16 the next, surrounded by 5 whiteboards and a useful &lt;a href=&quot;https://trello.com/b/zybbxNTX/project-sections&quot;&gt;Trello board&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Suddenly I had a lot of free time! I slept and cycled and partied and had a great time. I’d been acting like a workaholic since March 22nd, and it takes time to fix that burnout. But after a few days started to feel a bit dissatisfied and aimless. So I took a project idea and ran with it. This time last year was when we started working on &lt;a href=&quot;https://github.com/sirpent-team/sirpent-rust&quot;&gt;sirpent&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I’ve been watching a lot of Westworld lately, and I loved the idea of simulating frontier towns. In practice Tilewater is a long way from that idea but having bandits run into town might happen in time.&lt;/p&gt;

&lt;p&gt;I don’t know how much further I’ll develop Tilewater for the time being - I’ve been enjoying the sunshine and my books a bit more. But provided you’re a little bit technical you can &lt;strong&gt;&lt;a href=&quot;https://github.com/46bit/tilewater&quot;&gt;play Tilewater by following the directions on Github&lt;/a&gt;&lt;/strong&gt;.&lt;/p&gt;</content><author><name></name></author><summary type="html">Tilewater is a little sandbox game I’ve built in Rust. It’s a sandbox game, where you place roads and buildings and simulated people (sims) live out their lives in the world you’ve built. Sims arrive by train, move into their houses, visit general stores for their groceries, visit saloons to drink and find work, and then work in factories. Play the video to see it in action:</summary></entry><entry><title type="html">WannaCrypt and Government IT</title><link href="/2017/wannacrypt-govt-it/" rel="alternate" type="text/html" title="WannaCrypt and Government IT" /><published>2017-05-14T00:00:00+01:00</published><updated>2017-05-14T00:00:00+01:00</updated><id>/2017/wannacrypt-govt-it</id><content type="html" xml:base="/2017/wannacrypt-govt-it/">&lt;p&gt;WannaCrypt is the malware whose remarkable spread from mass emails to leaping across vulnerable SMB servers has led to major problems for many organisations in the last few days - in particular the NHS. Much has been written about its spread and &lt;a href=&quot;https://www.malwaretech.com/2017/05/how-to-accidentally-stop-a-global-cyber-attacks.html&quot;&gt;MalwareTech’s heroic but accidental halting of its spread&lt;/a&gt;.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;The British prime minister, Theresa May, and NHS Digital said they were not aware of any evidence that patient records had been compromised in the attack. May said: “This is not targeted at the NHS, it’s an international attack and a number of countries and organisations have been affected.”&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;This would seem to be true. WannaCrypt did not exfiltrate data from SMB shares, merely encrypting it. But this is only true because its motivation was extorting BitCoins. A more strategic attacker could have infiltrated at least as deeply, accessing systems that deal with highly-confidential patient data. This could be used for information, influence, or as a weapon.
&lt;!--more--&gt;&lt;/p&gt;

&lt;!--This gives an excellent view of how effective an attacker with different motives could be. WannaCrypt is a BitCoin extortion scheme, but other attackers (such as the vulnerability's presumed original discover, the NSA) are probably more interested in gathering information. It's clear this malware reached computers used to access highly-confidential patient databases and handle medical scans. WannaCrypt disabled the systems, but a more systematic attack could retrieve or manipulate information.--&gt;

&lt;p&gt;The UK Government bought an extension when Microsoft ended Windows XP support in 2014, &lt;a href=&quot;https://governmenttechnology.blog.gov.uk/2015/05/22/update-on-the-customer-support-agreement-for-windows-xp/&quot;&gt;and then ended it in 2015&lt;/a&gt;. The idea seems to be that individual areas of government would buy support if needed, but with so many NHS machines vulnerable two months after a patch was released for this vulnerability we can assume that didn’t go to plan.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;“It effectively means that unless individual trusts were willing to pay Microsoft for an extended support deal, since May 2015 their operating systems have been extremely vulnerable to being hacked.”&lt;/p&gt;

  &lt;p&gt;—&lt;a href=&quot;https://www.theguardian.com/society/2017/may/13/jeremy-hunt-ignored-warning-signs-before-cyber-attack-hit-nhs&quot;&gt;Letter from the shadow health secretary, Jonathan Ashworth, as relayed by The Guardian&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;The success of this attack within the NHS is not so remarkable when looking at &lt;strong&gt;&lt;a href=&quot;https://www.theguardian.com/technology/2015/may/26/uk-government-pcs-open-to-hackers-as-paid-windows-xp-support-ends&quot;&gt;comments on The Guardian&lt;/a&gt;&lt;/strong&gt; from the time the support contract was cancelled. Some government offices have clearly migrated but others have not. Apparently this is still the case.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;“All XP machines were banned from accessing the network some time ago. There are still some around but they aren’t connected and therefore don’t represent a threat.”&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;“I’m not sure why this is still a problem. I work in the public sector and there was a programme to replace or upgrade XP machines. After a certain date XP machines were banned from accessing the network.”&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;“Currently running XP, as do 90% of the computers of the organisation. NHS.”&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;“The vast majority of Ministry of Justice PCs still run XP (and Office 2003). Priority is inevitably being given to its Whitehall HQ. The hicks in the sticks will just have to wait till heaven knows when; years probably. Any sense of urgency is wholly absent yet at a time when further cuts are being demanded it’s apparently ok to spend money keeping software they have had 7 years to upgrade secure.”&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;That this support is still available is remarkable - but necessary. Relatively few Software Engineers would relish working on Windows XP patches sixteen years after its original release. That Microsoft offer such an option is testament to how critical Windows XP machines remain in many organisations.&lt;/p&gt;

&lt;p&gt;These issues may be getting worse over time. The situation is apparently &lt;em&gt;worse&lt;/em&gt; with Android: modern phones would seem to be properly supported for about two years. Even during that time, security patches can be delayed a long time by the phone’s vendor.&lt;/p&gt;

&lt;p&gt;Earlier this year I briefly talked about an engineering role with NHS Digital. What I saw of salaries there was extremely underwhelming even on a Leeds cost-of-living, although I can’t be certain of its accuracy. If salaries are so low then they rule themselves out of a great deal of talent, and either way it’s clear that the NHS is in need of a major funding boost.&lt;/p&gt;

&lt;p&gt;Optimistically this front-page news story (and potentially deaths!) will lead to a major investment and improvement to NHS and Government IT. In practice I am less than convinced such efforts will be sustained. Immediate, obvious issues will be fixed but as time moves on it might be forgotten until this happens again.&lt;/p&gt;

&lt;p&gt;But we can hope for better. GDS seems to have transformed much of the public-facing Government IT into an improved state, and the same could happen for internal infrastructure. In addition, this could be a critical example when opposing Government &lt;a href=&quot;https://www.theregister.co.uk/2017/05/04/uk_bulk_surveillance_powers_draft/&quot;&gt;hopes to mandate backdoors&lt;/a&gt;, if such arguments are properly used by campaigners. In the wake of this I think I’ll contact my MP and give feedback on the wider issues.&lt;/p&gt;</content><author><name></name></author><summary type="html">WannaCrypt is the malware whose remarkable spread from mass emails to leaping across vulnerable SMB servers has led to major problems for many organisations in the last few days - in particular the NHS. Much has been written about its spread and MalwareTech’s heroic but accidental halting of its spread. The British prime minister, Theresa May, and NHS Digital said they were not aware of any evidence that patient records had been compromised in the attack. May said: “This is not targeted at the NHS, it’s an international attack and a number of countries and organisations have been affected.” This would seem to be true. WannaCrypt did not exfiltrate data from SMB shares, merely encrypting it. But this is only true because its motivation was extorting BitCoins. A more strategic attacker could have infiltrated at least as deeply, accessing systems that deal with highly-confidential patient data. This could be used for information, influence, or as a weapon.</summary></entry><entry><title type="html">Building an encrypted virtual drive with FUSE.</title><link href="/2017/building-an-encrypted-drive-with-fuse/" rel="alternate" type="text/html" title="Building an encrypted virtual drive with FUSE." /><published>2017-04-05T00:00:00+01:00</published><updated>2017-04-05T00:00:00+01:00</updated><id>/2017/building-an-encrypted-drive-with-fuse</id><content type="html" xml:base="/2017/building-an-encrypted-drive-with-fuse/">&lt;p&gt;Today I’ve been at a mini-hackday in Liverpool, part of the &lt;a href=&quot;https://www.heacademy.ac.uk/training-events/national-conference-learning-and-teaching-cyber-security&quot;&gt;National Conference for Learning and Teaching in Cyber Security&lt;/a&gt;. Day 1 has some cybersecurity competitions, and a team of 3 of us participated in the Software Development stream.&lt;/p&gt;

&lt;p&gt;I’ve been to a lot of hackdays—between 16 and 20 I won prizes in at least six of them. I picked up a minimal-product/prototyping mindset, but it was hard to keep going afterwards. Over time my enthusiasm waned. The time limits, intensity and limited feedback hindered stretching my boundaries.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;This competition seemed quite interesting because writing Cryptography-related software is hard.&lt;/strong&gt; It’s hard to start off in the right direction, and easy to screw up later on. As such having professional feedback on an interesting day of work sounded great.&lt;/p&gt;

&lt;p&gt;So, &lt;strong&gt;our task was to build encrypted local partitions.&lt;/strong&gt; We had to build a system which stored encrypted keys on USB keys. Inserting such a USB key automatically prompted users to authenticate for a particular key. The encrypted volume was then to be used as a virtual drive.
&lt;!--more--&gt;&lt;/p&gt;

&lt;h2 id=&quot;work-begins&quot;&gt;Work begins&lt;/h2&gt;

&lt;p&gt;Sam (&lt;a href=&quot;https://github.com/sdhand&quot;&gt;@sdhand&lt;/a&gt;) is a first-year Computer Scientist at York, and he focused on detecting USB drives and getting the system + GUI together. Chongyang (&lt;a href=&quot;https://github.com/icydoge&quot;&gt;@icydoge&lt;/a&gt;) concentrated on the encryption using &lt;a href=&quot;https://download.libsodium.org/doc/secret-key_cryptography/authenticated_encryption.html&quot;&gt;NaCl AEAD&lt;/a&gt;. I took on something new to me: engineering the encrypted drive.&lt;/p&gt;

&lt;p&gt;After a little research, we settled on a FUSE filesystem wrapper. FUSE provides a virtual disk drive with a custom filesystem - for instance &lt;a href=&quot;https://github.com/libfuse/sshfs&quot;&gt;sshfs&lt;/a&gt;. For our usecase, we encrypt writes and decrypt reads so that the data is encrypted when on physical disk but decrypted when accessed. FUSE was completely new to me and rather exciting.&lt;/p&gt;

&lt;p&gt;I’ve been trying to get deeper into the Systems side of things, and this was a new experience. Operating on memories of reading about ordinary disk encryption, my first implementation decision was whether to encrypt the entire filesystem or each file individually. Encrypting each individual file has many disadvantages, most notably that the metadata of files (e.g., their name) is unobscured. We only had 5 hours (far shorter than it sounds if you get stuck!) and so I chose to do it file-by-file, with this as an important caveat.&lt;/p&gt;

&lt;p&gt;I sketched out a plan for how each API method could adapt to our encrypted filesystem. Opening files would read and decrypt file contents into memory; reading files would output that in-memory plaintext; writing files would update that plaintext and encrypt it to disk; flushing or closing files would encrypt it to disk. File descriptors (handles to open files) were handled simply by giving the same integer for each file path.&lt;/p&gt;

&lt;h2 id=&quot;debugging-nul&quot;&gt;Debugging &lt;code class=&quot;highlighter-rouge&quot;&gt;NUL&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;This worked rather well until I started hitting difficult debugging issues. I was getting mysterious &lt;code class=&quot;highlighter-rouge&quot;&gt;NUL&lt;/code&gt; bytes when reading and writing files, and despite a number of bugfixes I could not seem to fix the final issue. For the powerful ecosystem and rapid development we were working with Python, and various issues forced us to mix &lt;code class=&quot;highlighter-rouge&quot;&gt;bytes&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;bytearray&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;str&lt;/code&gt; in one class.&lt;/p&gt;

&lt;p&gt;I had no testsuite. I hadn’t found one when getting some example code and I wasn’t convinced such a tight timebound was enough to repay the slower development time. So facing tough issues I radically simplified and stopped storing decrypted contents in memory. Every time file contents were needed the entire file was decrypted. I felt that once this simpler form worked I could easily re-add the complexity. I feel the in-memory approach was easy enough to not be premature optimisation, but it did prove to add too much indirection for how unfamiliar I was.&lt;/p&gt;

&lt;p&gt;This final issue was that files were mysteriously having &lt;code class=&quot;highlighter-rouge&quot;&gt;NUL&lt;/code&gt; bytes appended each time they were saved. Nothing I did could fix the issue, to the extent it was bizarre. Stuck, I warned Sam and Chongyang I’d hit a blocking issue. Chongyang and I were able to simplify away some ugly code but couldn’t address the problem. &lt;strong&gt;Thankfully Sam has built an &lt;a href=&quot;https://github.com/sdhand/x11fs&quot;&gt;X11 filesystem&lt;/a&gt; and realised we weren’t giving correct filesizes!&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;One method of the FUSE API that filesystems implement is &lt;code class=&quot;highlighter-rouge&quot;&gt;getattr&lt;/code&gt;. This provides metadata on items in the filesystem, including the sizes of files. Sam noticed that we were passing through the size of the encrypted files rather than the decrypted ones! This was rather bad: our encrypted files were padded with a nonce value.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Our code was built in a hurry. Nonetheless, see &lt;a href=&quot;https://github.com/46bit/liverpool&quot;&gt;liverpool on Github&lt;/a&gt;.&lt;/strong&gt;&lt;/p&gt;

&lt;h2 id=&quot;cybersecurity-as-a-career-direction&quot;&gt;Cybersecurity as a career direction?&lt;/h2&gt;

&lt;p&gt;I was rather interested to have our Cryptography-related work reviewed, but in practice this didn’t work so well. I’m not sure if the judges were non-technical or just had a “gold standard” they were seeking but there wasn’t effective feedback. Nonetheless an enjoyable day and we’ve reviewed things ourselves on the train back to York.&lt;/p&gt;

&lt;p&gt;I enjoyed the &lt;a href=&quot;/2017/coldfusion-insecure-escape-spaces/&quot;&gt;Security work I’ve done for IT Services here in York&lt;/a&gt;, and with graduation soon approaching I’ve considered going deeply into cybersecurity. But I’d rather bring my security mindset to more typical engineering roles. I have a rough plan to take an ethical hacking certification in my spare time once I’m settled after graduation, as I’d like to make security a more formal part of my role over time.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Our code was built in a hurry. Nonetheless, see &lt;a href=&quot;https://github.com/46bit/liverpool&quot;&gt;liverpool on Github&lt;/a&gt;.&lt;/strong&gt;&lt;/p&gt;</content><author><name></name></author><summary type="html">Today I’ve been at a mini-hackday in Liverpool, part of the National Conference for Learning and Teaching in Cyber Security. Day 1 has some cybersecurity competitions, and a team of 3 of us participated in the Software Development stream. I’ve been to a lot of hackdays—between 16 and 20 I won prizes in at least six of them. I picked up a minimal-product/prototyping mindset, but it was hard to keep going afterwards. Over time my enthusiasm waned. The time limits, intensity and limited feedback hindered stretching my boundaries. This competition seemed quite interesting because writing Cryptography-related software is hard. It’s hard to start off in the right direction, and easy to screw up later on. As such having professional feedback on an interesting day of work sounded great. So, our task was to build encrypted local partitions. We had to build a system which stored encrypted keys on USB keys. Inserting such a USB key automatically prompted users to authenticate for a particular key. The encrypted volume was then to be used as a virtual drive.</summary></entry><entry><title type="html">Brexit.</title><link href="/2017/brexit/" rel="alternate" type="text/html" title="Brexit." /><published>2017-03-31T00:00:00+01:00</published><updated>2017-03-31T00:00:00+01:00</updated><id>/2017/brexit</id><content type="html" xml:base="/2017/brexit/">&lt;p&gt;On Tuesday night I tried to tweet some thoughts about Brexit:&lt;/p&gt;

&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;en&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;I tried to write something about Brexit here and now I&amp;#39;ve gone to find the gin.&lt;/p&gt;&lt;p&gt;&amp;mdash; Michael Mokrysz (@46bit) &lt;a href=&quot;https://twitter.com/46bit/status/846845924991254528&quot;&gt;March 28, 2017&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;!--more--&gt;
&lt;script async=&quot;&quot; src=&quot;//platform.twitter.com/widgets.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;

&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://yougov.co.uk/news/2016/06/27/how-britain-voted/&quot;&gt;71% of my agegroup was for Remain.&lt;/a&gt;&lt;/strong&gt; I was very much for Remain; I’m still very much for Remain. The level of emotional attachment on either side is severe. This is going to run and run.&lt;/p&gt;

&lt;p&gt;With Article 50 now triggered it seems fairly sure we’re headed ‘out’ in some form. This seems set to dominate the headlines and the government for years to come. This will be years of (at best) standing still, instead of actual governance.&lt;/p&gt;

&lt;p&gt;For me the best outcomes would be an EEA-style deal or if not then &lt;a href=&quot;http://www.saveourcitizenship.eu&quot;&gt;Associate EU Citizenship&lt;/a&gt;. Associate EU Citizenship is the idea that those Brits who choose could retain EU Citizenship on some level. For all sorts of reasons it seems &lt;a href=&quot;https://www.theguardian.com/uk-news/2016/dec/12/eu-citizenship-deal-for-british-nationals-has-no-chance-say-experts&quot;&gt;rather unlikely&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;I don’t expect I’ll ‘get behind Brexit’ for the same reason I’d not pick up a copy of the Daily Mail&lt;/strong&gt;: it’s a crafted narrative giving the worst of humanity. I hope that we’ll regret this as a nation, but I expect a lot of bitterness if and as the downsides hit.&lt;/p&gt;

&lt;p&gt;Those native Brits able to claim EU Citizenship are doing so, and those with an interest in retaining links to the EU have suddenly become keen to move there while Free Movement remains intact.&lt;/p&gt;

&lt;p&gt;As for non-Brits in York, I’ve overheard discussions as to whether people want to fill out 85-page residence forms or go find somewhere more willing to have them - particularly relevant here at the University, when research is often funded and conducted on a continental or worldwide scale. As of yet I’m still not sure whether to apologise or hug them.&lt;/p&gt;

&lt;h3 id=&quot;we-already-had-issues&quot;&gt;We already had issues&lt;/h3&gt;

&lt;p&gt;Here’s things the country now needs to deal with that aren’t the EU negotiation:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The SNP would like to revote on independence and Northern Ireland’s status is unknowable. I wish the people of Scotland all the best whatever they decide, and hypothetically similar for NI.&lt;/li&gt;
  &lt;li&gt;The housing crisis eating working people’s incomes will continue on.&lt;/li&gt;
  &lt;li&gt;The slide towards buying later will make saving for retirement or any other purpose ever more distant, making us poorer.&lt;/li&gt;
  &lt;li&gt;University fees will start to creep upwards at the ‘higher quality’ Universities, to encourage students to balance debt against opportunity.&lt;/li&gt;
  &lt;li&gt;High wages will move to the Continent for access reasons.&lt;/li&gt;
  &lt;li&gt;The NHS, its staff and its patient may suffer terribly from a lack of nurses.&lt;/li&gt;
  &lt;li&gt;Civil liberties and leglisation to protect the world may or may not go in a worse direction.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;there-are-bigger-issues-to-come&quot;&gt;There are bigger issues to come&lt;/h3&gt;

&lt;p&gt;We’re also headed for quite a few anthropogenic disasters. None of these should read surprising:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Temperatures will rise.&lt;/li&gt;
  &lt;li&gt;All coral reefs on Earth may die; ocean acidification will wreak wider havoc (&lt;a href=&quot;https://www.theguardian.com/environment/2010/dec/07/coral-reefs-disappear-lifetime&quot;&gt;source&lt;/a&gt;.)&lt;/li&gt;
  &lt;li&gt;Glaciers are melting, leaving rivers emptier in the summer.&lt;/li&gt;
  &lt;li&gt;Crop failures will grow.&lt;/li&gt;
  &lt;li&gt;Extreme climate events will worsen.&lt;/li&gt;
  &lt;li&gt;Methane releases from permafrost may grow.&lt;/li&gt;
  &lt;li&gt;Some of the Middle East may experience unlivable heatwaves (&lt;a href=&quot;https://www.theguardian.com/environment/2015/oct/26/extreme-heatwaves-could-push-gulf-climate-beyond-human-endurance-study-shows&quot;&gt;source&lt;/a&gt;.)&lt;/li&gt;
  &lt;li&gt;Seas will rise in ways entirely outside our experience.&lt;/li&gt;
  &lt;li&gt;People in poorer countries will continue to seek better lives, or any life at all.&lt;/li&gt;
&lt;/ul&gt;

&lt;!--* Europe's population will dwindle. Africa's population will boom. Asia's importance will continue to grow. The USA will have a white minority for the first time.--&gt;

&lt;p&gt;This is a depressing list - I could list as many &lt;em&gt;good&lt;/em&gt;, hopeful things just as easily. The point is that these things matter, a lot, to our future.&lt;/p&gt;

&lt;p&gt;Brexit is at best a distraction to these problems. If the referendum and EU scapegoating is a snapshot of how the UK will cope with these stressors, it bodes very badly for our society.&lt;/p&gt;</content><author><name></name></author><summary type="html">On Tuesday night I tried to tweet some thoughts about Brexit: I tried to write something about Brexit here and now I&amp;#39;ve gone to find the gin.&amp;mdash; Michael Mokrysz (@46bit) March 28, 2017</summary></entry><entry><title type="html">Designing a better home for writing, part 1.</title><link href="/2017/a-better-home-for-writing/" rel="alternate" type="text/html" title="Designing a better home for writing, part 1." /><published>2017-03-28T00:00:00+01:00</published><updated>2017-03-28T00:00:00+01:00</updated><id>/2017/a-better-home-for-writing</id><content type="html" xml:base="/2017/a-better-home-for-writing/">&lt;p&gt;This blog experienced a lull from &lt;code class=&quot;highlighter-rouge&quot;&gt;2014-07-07&lt;/code&gt; to &lt;code class=&quot;highlighter-rouge&quot;&gt;2017-02-27&lt;/code&gt;, some 966 days. A lot happened in that timespan - I went through a long period of therapy, spent awhile reverse-engineering Dig data from dead ESRI databases in an Archaeology department, and got into everything from Swing Dancing to Python.&lt;/p&gt;

&lt;p&gt;What didn’t change was that the old design, well, sucked. I don’t mean that it was the worst thing ever, but it was underwhelming as a place to write. So I’m going to talk through the redesign process.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/old-new-aside.png&quot; width=&quot;1000&quot; /&gt;&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;I’m not a UI designer, but I have a pretty good grasp of UX from working at a web agency and a consumer-focused startup. I think this showed: this design was perfectly functional, links were quite visible, and the important text stood out. But the UI was very &lt;code class=&quot;highlighter-rouge&quot;&gt;LaTeX&lt;/code&gt;y-monochrome, perhaps a reflection of how I was feeling when I made it.&lt;/p&gt;

&lt;p&gt;When I started writing again I was nervous about how well I could write. I am not a naturally talented writer. But as with many skills worth learning, you just need to practice it enough that it becomes second nature. As I get more used to writing my writing should improve. I might build an audience of Rustaceans. My writing elsewhere should become clearer and easier. But part of this is having a pleasing place to write.&lt;/p&gt;

&lt;h2 id=&quot;redesign-narrative&quot;&gt;Redesign narrative&lt;/h2&gt;

&lt;h3 id=&quot;i-need-some-fonts&quot;&gt;I need some fonts&lt;/h3&gt;

&lt;p&gt;As someone who dabbles in frontend and hasn’t done intense JavaScript work since 2013, one of the brilliant things of 201x is webfonts. Being able to pick out pleasant fonts that suit your design is so much more powerful than relying on the client computer to have nice fonts. In my teens it was common to embed nicely-fonted text as images, with the actual text &lt;code class=&quot;highlighter-rouge&quot;&gt;text-indent: -9999px;&lt;/code&gt; out the way.&lt;/p&gt;

&lt;p&gt;At one point I had a paid &lt;a href=&quot;&quot;&gt;Typekit&lt;/a&gt; subscription, but more recently &lt;a href=&quot;&quot;&gt;Google Fonts&lt;/a&gt; offers free and liberally licensed fonts. Rather than being second-best, many or all of them are very high quality. Some seem curiously similar to hyper-expensive fonts I used in days gone by, on which I’ve no comment.&lt;/p&gt;

&lt;p&gt;Anyhow. I rather liked a Serif font in use by &lt;a href=&quot;https://www.barrucadu.co.uk&quot;&gt;Michael Walker&lt;/a&gt; (also of York Comp Sci), &lt;span style=&quot;font-family: Merriweather, serif;&quot;&gt;Merriweather&lt;/span&gt;, so I picked that. At some point during the process I also recruited Open Sans which is the font you’re reading right now.&lt;/p&gt;

&lt;h3 id=&quot;i-need-some-colours&quot;&gt;I need some colours&lt;/h3&gt;

&lt;p&gt;From past experience it helps me to get an initial colour palette. Many experienced designers seem to design in grayscale and treat the colours as second to content. However I find I can struggle with how to colorize a design and make it ‘pop.’ The content was largely already present - I wanted to stick with &lt;code class=&quot;highlighter-rouge&quot;&gt;hakyll&lt;/code&gt;, a Haskell static site generator, and I didn’t want to make major content alterations.&lt;/p&gt;

&lt;p&gt;I’ve always liked maroony reds, so that was my startpoint. Ten minutes of Adobe Kuler later, I had &lt;a href=&quot;https://color.adobe.com/46bit-color-theme-9379807/&quot;&gt;this&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/new-colours.png&quot; width=&quot;600&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The intensity of the cyans was concerning, but that was something to try and see. In practice the cyans are barely used, with a bright yellow and a deep blue instead. But the three, intense reds are the key to the design.&lt;/p&gt;

&lt;h3 id=&quot;first-sketch&quot;&gt;First sketch&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/assets/redesign-1.png&quot; width=&quot;600&quot; class=&quot;pull-left&quot; /&gt;&lt;/p&gt;

&lt;p&gt;I chose to use my &lt;a href=&quot;/2017/coldfusion-insecure-escape-spaces/&quot;&gt;Securing legacy ColdFusion or: Why escape spaces against XSS?&lt;/a&gt; post as the content for the redesign. It isn’t my best post ever, but the mix of text and code is quite representative of what I’ll be writing here.&lt;/p&gt;

&lt;p&gt;A half hour in this is looking quite effective. The navigation colours don’t work, the logo text is too heavy, but the basic structure works.&lt;/p&gt;

&lt;h3 id=&quot;fourth-sketch&quot;&gt;Fourth sketch&lt;/h3&gt;

&lt;p&gt;Out of necessity I’m jumping ahead a way.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/redesign-4.png&quot; width=&quot;600&quot; class=&quot;pull-left&quot; /&gt;&lt;/p&gt;

&lt;p&gt;At this point I’d copied in more content. This seemed essential in understanding how a long post would perform. I’ve previously found that simple designs with the header out of sight can be monochrome.&lt;/p&gt;

&lt;h3 id=&quot;sixth-sketch&quot;&gt;Sixth sketch&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/assets/redesign-6.png&quot; width=&quot;600&quot; class=&quot;pull-left&quot; /&gt;&lt;/p&gt;

&lt;p&gt;As someone who does a lot of business with the US and rest-of-the-world, I’m quite a fan of the &lt;code class=&quot;highlighter-rouge&quot;&gt;YYYY-MM-DD&lt;/code&gt; date format. But here I started experimenting with including the day of the week, and in the final design I concluded a ‘human’ format would surprise users less.&lt;/p&gt;

&lt;h3 id=&quot;eleventh-sketch&quot;&gt;Eleventh sketch&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/assets/redesign-11.png&quot; width=&quot;600&quot; class=&quot;pull-left&quot; /&gt;&lt;/p&gt;

&lt;p&gt;I tried to bring in more colours from the colourscheme, building a big header. This does sort-of work - but so much cyan is a risk when it comes to flexibility later.&lt;/p&gt;

&lt;h3 id=&quot;eighteenth-sketch&quot;&gt;Eighteenth sketch&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/assets/redesign-18.png&quot; width=&quot;600&quot; class=&quot;pull-left&quot; /&gt;&lt;/p&gt;

&lt;p&gt;I tried dropping the header and adding a bar below the navigation to enhance the structural connection to the active navigation item. This seemed like a great idea.&lt;/p&gt;

&lt;h3 id=&quot;nineteenth-sketch-the-final-one&quot;&gt;Nineteenth sketch, the final one&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/assets/redesign-19.png&quot; width=&quot;600&quot; class=&quot;pull-left&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Inspired, I brought the reds and the more active navigation together. I loved it and decided this was enough to start implementing. Further changes could be made in the browser.&lt;/p&gt;

&lt;h3 id=&quot;a-logo-revived&quot;&gt;A logo revived&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/assets/46bit-paper-large.png&quot; width=&quot;192&quot; class=&quot;pull-left&quot; /&gt;&lt;/p&gt;

&lt;p&gt;In 2010 I hired &lt;a href=&quot;https://dribbble.com/sitelotus&quot;&gt;Anthony Bullock&lt;/a&gt; to build me a much nicer freelance portfolio than what I had been using. The aim was to get more work from a more pleasing internet presence, and I think it was successful. I was 16 at the time.&lt;/p&gt;

&lt;p&gt;I noticed the above designs could do with a nice logo. So I opened up my old one, that Anthony designed. I lightened some text, changed the hue of the “bit,” and played with the correct size. And it works nicely! Thanks again, Anthony.&lt;/p&gt;

&lt;h2 id=&quot;whats-live-now&quot;&gt;What’s live now&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/assets/new-homepage.png&quot; width=&quot;600&quot; class=&quot;pull-left&quot; /&gt;&lt;/p&gt;

&lt;p&gt;You might notice - the narrow yellow line below the title bar originated in Sketch 11. It isn’t in the colourscheme at all; I picked it up by chance. But it has made it into the live design, dividing the title bar and the post date on pages that list posts. It was on other pages for a while, but it split up the title and the text too much - the Achilles Heel of this design.&lt;/p&gt;

&lt;p&gt;As of last night I’ve built in mobile support. Something I haven’t done with this design is use Flexbox - I’m still using floats for positioning the logo and navigation. I’ve my MEng project to do and am under a lot of time pressure, so it was the wrong time to learn that.&lt;/p&gt;

&lt;p&gt;There is still a long way to go, but this is a design that can grow easily.&lt;/p&gt;</content><author><name></name></author><summary type="html">This blog experienced a lull from 2014-07-07 to 2017-02-27, some 966 days. A lot happened in that timespan - I went through a long period of therapy, spent awhile reverse-engineering Dig data from dead ESRI databases in an Archaeology department, and got into everything from Swing Dancing to Python. What didn’t change was that the old design, well, sucked. I don’t mean that it was the worst thing ever, but it was underwhelming as a place to write. So I’m going to talk through the redesign process.</summary></entry><entry><title type="html">I’ve been published!</title><link href="/2017/writing-again/" rel="alternate" type="text/html" title="I've been published!" /><published>2017-03-14T00:00:00+00:00</published><updated>2017-03-14T00:00:00+00:00</updated><id>/2017/writing-again</id><content type="html" xml:base="/2017/writing-again/">&lt;h2 id=&quot;in-the-last-month-ive-published-twice-in-our-campus-newspaper-nouse&quot;&gt;In the last month I’ve published twice in our campus newspaper, Nouse&lt;/h2&gt;

&lt;p&gt;In the last month I’ve had two articles printed in the student newspaper, Nouse. Over the last year I’ve been collecting data on student union election candidates, and it was fantastic to pull the findings together.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;&lt;a href=&quot;http://www.nouse.co.uk/2017/02/18/battle-of-the-colleges-whos-got-the-bnocs/&quot;&gt;Battle of the colleges: who’s got the BNOCs&lt;/a&gt;&lt;/strong&gt;&lt;br /&gt;
I had about 48 hours to do preliminary analysis with a second year of data. Given those constraints and having not done this before, I’m pretty happy with the printed results.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;&lt;a href=&quot;http://www.nouse.co.uk/2017/03/07/yusu-elections-put-under-the-microscope-college-chances-campus-stances-and-gender-imbalances/&quot;&gt;YUSU elections put under the microscope: college chances, campus stances and gender imbalances&lt;/a&gt;&lt;/strong&gt;&lt;br /&gt;
A few weeks later I came back with more thoroughly analysed findings. In summary - our Student Union elections seem biased against underprovisioned Colleges and female candidates are running for much more junior positions.&lt;/li&gt;
&lt;/ul&gt;

&lt;!--more--&gt;

&lt;p&gt;These are based on the same underlying data but the latter post gave me two weeks to make a deeper analysis. I found it a tough but exciting learning curve to collect the data, do analysis and publish it with the fantastic team at Nouse. So many thanks to &lt;a href=&quot;http://www.nouse.co.uk/author/luke-rix-standing/&quot;&gt;Luke Rix-Standing&lt;/a&gt; (Editor), &lt;a href=&quot;http://www.nouse.co.uk/author/finn-judge/&quot;&gt;Finn Judge&lt;/a&gt; (Deputy Editor) and &lt;a href=&quot;http://www.nouse.co.uk/author/amelia-clarke/&quot;&gt;Amelia Clarke&lt;/a&gt; (News Editor).&lt;/p&gt;

&lt;h3 id=&quot;yes-published-in-a-paper-newspaper&quot;&gt;Yes, published in a paper newspaper.&lt;/h3&gt;

&lt;p&gt;It might seem strange that a Computer Scientist is publishing on paper. I disagree: electronic media is growing hugely in appeal, and Kindles have eaten much of my use of paper for reading. But media is a diverse field and if you want to reach people in a particular but diverse organisation the organisation’s own newspaper is a good way. Something I need a better process for is my method of analysing data: Google Sheets charts don’t suffice.&lt;/p&gt;

&lt;h3 id=&quot;evidence-based-policy&quot;&gt;Evidence-based policy&lt;/h3&gt;

&lt;p&gt;I am a little troubled by what I found. It isn’t necessarily surprising that Colleges more distant from the rest of the University get less attention. Given wider tends it isn’t necessarily surprising that female-identifying candidates run for more junior positions. But seeing the numbers show up consistently in a venue nobody else thought to look is illuminating.&lt;/p&gt;

&lt;p&gt;I set out to try and find out more about something public that wasn’t being looked at. I’ve developed an impression that a lot of real-world issues are widely known anecdotally, but nothing gets done because you can’t prove anything. As such, demonstrating an issue in a deep, quantitative analysis can be a useful step to arguing and driving for change.&lt;/p&gt;

&lt;p&gt;To an extent this belief is an artifact of my own mindset. Where possible I like to argue from evidence. Some years ago I participated in government/civic data hackdays, and that interest is still around under the surface.&lt;/p&gt;

&lt;p&gt;I’m a Course Rep in the Computer Science department at York, responsible for acting on student feedback and improving the student experience. A lot of Course Reps probably just argue for things they believe, and resolutely keep arguing until something is done or they get worn out. My approach to many issues is along this axis, but if something seems harder to get done I turn to an analytical mindset. This worked for highlighting problems with a Machine Learning class I took last year, after 4 years of the problems seeming to be ignored.&lt;/p&gt;

&lt;h2 id=&quot;i-argued-that-free-speech-arguments-are-being-used-out-of-confusion-or-even-bad-faith&quot;&gt;I argued that Free Speech arguments are being used out of confusion or even bad faith&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://xkcd.com/1357/&quot;&gt;&lt;img src=&quot;/assets/xkcd-free-speech-door.jpg&quot; alt=&quot;The XKCD cartoon I posted to argue the point.&quot; width=&quot;700&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This cartoon is &lt;a href=&quot;https://xkcd.com/1357/&quot;&gt;XKCD #1357&lt;/a&gt;, posted by J.K. Rowling on Twitter. I felt rather inspired by it. I believe that many anti-intellectual and illiberal attitudes are being used right now, and one is the concept everyone has the right to say their fill in your community.&lt;/p&gt;

&lt;p&gt;I very much disagree: hate speech and hate groups are not harmless; normalising their speech is a way to having us listen; and many of these groups are privileged and are not genuinely struggling for a platform (hence why their complaints are so loudly audible despite the supposed crushing censorship.)&lt;/p&gt;

&lt;p&gt;See my replies to Kragen at &lt;strong&gt;&lt;a href=&quot;https://www.facebook.com/photo.php?fbid=1257833534308290&amp;amp;set=a.147155018709486.33009.100002449667634&amp;amp;type=3&amp;amp;theater&quot;&gt;It’s just that the people listening think you’re an asshole and they’re showing you the door.&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;h2 id=&quot;ive-also-published-7-posts-here&quot;&gt;I’ve also published 7 posts here:&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;/2017/engineering-discipline-and-craft/&quot;&gt;Engineering as slowly as possible&lt;/a&gt;: some thoughts on developing maintainably&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;/2017/evolutionary-computing/&quot;&gt;Introduction to Evolutionary Computing&lt;/a&gt;: background to building &lt;a href=&quot;https://github.com/46bit/evco&quot;&gt;Rust Genetic Programming library&lt;/a&gt; that I’ve been looking for good approaches into.
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;/2017/rust-generating-syntax-trees/&quot;&gt;Generating expression trees in Rust&lt;/a&gt; and &lt;a href=&quot;/2017/evco/&quot;&gt;Recursive Enum expression trees in Rust&lt;/a&gt;: some confused thoughts about specifying tree structures as Rust &lt;code class=&quot;highlighter-rouge&quot;&gt;enum&lt;/code&gt; types.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;/2017/coldfusion-insecure-escape-spaces/&quot;&gt;Securing legacy ColdFusion or: Why escape spaces against XSS?&lt;/a&gt;: in which I justify and classify ColdFusion websites as insecure-by-default.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;/2017/bicycle-skid/&quot;&gt;Glad I was wearing a cycle helmet&lt;/a&gt;: personal update on a bicycle accident.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;/2017/security-risk-assessment/&quot;&gt;Security Risk Assessments of Semi-Autonomous Vehicles&lt;/a&gt;: discussing the level of autonomy necessary to get adoption of automated road trains (the SARTRE project.)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;My blog will be relatively low-quality writing for the time being. I’ve never honed my skills at writing until now, which means that iterating on a blog post can be a slow and long process. &lt;strong&gt;My hope is that the (limited) editing I do will feed into my new writing, and my process will slowly improve.&lt;/strong&gt; We’ll see whether this works out, but it’s the Growth Mindset I’m taking.&lt;/p&gt;

&lt;p&gt;Until next time,&lt;br /&gt;
—46bit&lt;/p&gt;</content><author><name></name></author><category term="York" /><summary type="html">In the last month I’ve had two articles printed in the student newspaper, Nouse. Over the last year I've been collecting data on student union election candidates, and it was fantastic to pull the findings together. Battle of the colleges: who’s got the BNOCs I had about 48 hours to do preliminary analysis with a second year of data. Given those constraints and having not done this before, I'm pretty happy with the printed results. YUSU elections put under the microscope: college chances, campus stances and gender imbalances A few weeks later I came back with more thoroughly analysed findings. In summary - our Student Union elections seem biased against underprovisioned Colleges and female candidates are running for much more junior positions.</summary></entry><entry><title type="html">Security Risk Assessments of Semi-Autonomous Vehicles</title><link href="/2017/security-risk-assessment/" rel="alternate" type="text/html" title="Security Risk Assessments of Semi-Autonomous Vehicles" /><published>2017-03-13T00:00:00+00:00</published><updated>2017-03-13T00:00:00+00:00</updated><id>/2017/security-risk-assessment</id><content type="html" xml:base="/2017/security-risk-assessment/">&lt;p&gt;I’m in my 4&lt;sup&gt;th&lt;/sup&gt; year at York, the Masters year of my MEng Computer Science degree. This term I’ve taken the Topics in Privacy and Security (PSEC) module, which takes a wide technical swath through privacy and security issues. But the assessment is mostly focused on password cracking and doing a security risk assessment for automated road convoys.&lt;/p&gt;

&lt;p&gt;We’re assessing how to bring an EU-funded project, &lt;a href=&quot;https://en.wikipedia.org/wiki/Safe_Road_Trains_for_the_Environment&quot;&gt;SARTRE&lt;/a&gt;, to market. The concept, “Safe Road Trains for the Environment,” allows an equipped car to automatically follow ~6m behind a Lead Vehicle. You could sit back and watch a movie—er, do productive work.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/sartre-drivers-doing-activities.png&quot; alt=&quot;SARTRE following drivers doing immersive non-driving tasks&quot; width=&quot;600&quot; /&gt;
&lt;!--more--&gt;&lt;/p&gt;

&lt;h2 id=&quot;risksviability-of-commercial-deployment&quot;&gt;Risks/viability of commercial deployment&lt;/h2&gt;

&lt;p&gt;Deploying this commercially is to move from a proof-of-concept to a live system. The most immediate issue I’ve identified is with this concept of following drivers not paying attention to the road: in the demonstrator, following vehicles had professional drivers who were paying attention.&lt;/p&gt;

&lt;p&gt;On an actual highway unexpected things happen. If the platoon (convoy) is to return control to drivers should a sudden, unexpected thing happen then drivers cannot be doing other activities - they need road awareness.&lt;/p&gt;

&lt;p&gt;The Parliamentary Science and Technology Office came up with a &lt;a href=&quot;http://researchbriefings.parliament.uk/ResearchBriefing/Summary/POST-PN-443&quot;&gt;classification system for automated road vehicles.&lt;/a&gt; &lt;em&gt;Under this classification the proof-of-concept only meets the concept of Partial Autonomy.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/hoc-autonomous-vehicle-levels.png&quot; alt=&quot;UK Parliamentary Office of Science and Technology Analysis of scales of vehicle autonomy&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Drivers not having to be attentive is classed as High Autonomy.&lt;/em&gt; As with my musings, they’ve identified it as a hard step to take.&lt;/p&gt;

&lt;p&gt;The demonstrator dissolved convoys by having vehicles automatically back off to 50m separations and 50km/h speeds. Thus drivers could regain control in a gentle manner. Sadly this isn’t all that practical - in my opinion - on the road.&lt;/p&gt;

&lt;h2 id=&quot;collective-vs-individual-appeal&quot;&gt;Collective vs Individual appeal&lt;/h2&gt;

&lt;p&gt;The European Commision sees a major advantage of this project being reduced carbon emissions. The slipstream from vehicles a few metres ahead reduces the fuel used by vehicles in the platoon.&lt;/p&gt;

&lt;p&gt;The reduced fuel usage appeals to all drivers in the form of lower costs. That is, it has individualistic appeal. Having the necessary equipment fitted can apparently pay itself back within 3 years on trucks - if produced at scale something similar seems plausible for cars.&lt;/p&gt;

&lt;p&gt;Reducing CO&lt;sub&gt;2&lt;/sub&gt; emissions is still more of a collective issue. As Europeans we’re seeing oddities in the climate but not particularly as a critical issue every day. I suspect when it becomes a more individually-obvious issue there will finally be the will to take serious action, but at that point it may be too late to try anything but climate engineering.&lt;/p&gt;

&lt;p&gt;The problem for this project is that to the public, reduced fuel usage might not be worth the attention costs. If drivers are automatically monitored for paying attention to the road it is plausible to keep them attentive or evict them from a platoon. But staying immersed in the road environment when taking no action would be very tedious over long periods. As such I don’t think people will go for the project in high numbers unless this issue of having to pay constant attention is resolved.&lt;/p&gt;

&lt;h2 id=&quot;summing-up&quot;&gt;Summing up&lt;/h2&gt;

&lt;p&gt;It isn’t clear how directly this is being taken further in the real world. But it’s a nice model for semi-automated road vehicles, if only the emergency recovery of control can be worked out.&lt;/p&gt;

&lt;p&gt;I’ve spent quite awhile with security-related topics before but this is my first time doing risk assessment exercises. I appreciate this work a lot more now. It can be dull, but that’s because it involves a lot of gathering information before any serious analysis can be done. That this is the first such exercise I’ve performed naturally means I’m being conservative in how I go about it - in real-life there’d be more freedom to do more iterations and get solid facts.&lt;/p&gt;</content><author><name></name></author><category term="York" /><summary type="html">I’m in my 4th year at York, the Masters year of my MEng Computer Science degree. This term I’ve taken the Topics in Privacy and Security (PSEC) module, which takes a wide technical swath through privacy and security issues. But the assessment is mostly focused on password cracking and doing a security risk assessment for automated road convoys. We’re assessing how to bring an EU-funded project, SARTRE, to market. The concept, “Safe Road Trains for the Environment,” allows an equipped car to automatically follow ~6m behind a Lead Vehicle. You could sit back and watch a movie—er, do productive work.</summary></entry><entry><title type="html">Glad I was wearing a cycle helmet</title><link href="/2017/bicycle-skid/" rel="alternate" type="text/html" title="Glad I was wearing a cycle helmet" /><published>2017-03-12T00:00:00+00:00</published><updated>2017-03-12T00:00:00+00:00</updated><id>/2017/bicycle-skid</id><content type="html" xml:base="/2017/bicycle-skid/">&lt;p&gt;One of my favourite things about York is how bicyclable it is. I grew up in the countryside but somewhere decidedly not safe to cycle from, so it’s a very welcome change. Aside from a couple of minor things it’s worked fine for the last 5 years. On Friday (&lt;code class=&quot;highlighter-rouge&quot;&gt;2017-03-10&lt;/code&gt;) I had a bit of an accident.
&lt;!--more--&gt;&lt;/p&gt;

&lt;p&gt;Sam Hand (&lt;code class=&quot;highlighter-rouge&quot;&gt;sdhand&lt;/code&gt;) took the initiative to organise some new &lt;a href=&quot;https://www.hacksoc.org&quot;&gt;HackSoc&lt;/a&gt; movie nights this year, and I’ve been helping with little bits of logistics. I’d been watching Apollo 13 but skipped Moon because I’d seen it recently.&lt;/p&gt;

&lt;p style=&quot;text-align: center;&quot;&gt;&lt;iframe src=&quot;https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d205.29712955826926!2d-1.0386286637597082!3d53.9533881908245!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e1!3m2!1sen!2suk!4v1489358465930&quot; width=&quot;600&quot; height=&quot;450&quot; frameborder=&quot;0&quot; style=&quot;border:0&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;&lt;/p&gt;

&lt;p&gt;It was at this bend on Yarburgh Way that I came off. Rather than my bicycle taking the turn it went over, my head slamming into the road surface and about a dozen different areas of me getting scraped, bruised or hurt. I don’t seem to have any bad injuries… but I’ve found it remarkable how incapacitated very bad scrapes on a knee and forearm can make you.&lt;/p&gt;

&lt;p&gt;I’m not particularly sure how it happened. My bicycle completely skidded out as if it had no grip, but it was far too warm for ice and I didn’t see any oil in the immediate aftermath. Given the extent of my injuries I have to wonder if my speed was just too high for the grip of the tyres - it’s an exceptionally tight bend.&lt;/p&gt;

&lt;p&gt;In any case, I was momentarily aware of the bicycle not moving correctly but then I don’t particularly remember anything until picking part of my bicycle bell off the road. I picked myself off the road after a time and was tremendously dazed for 20 minutes or so. A kind passerby walked with me for a time to check I was okay - I think they were worried about a concussion. Let’s face it: I was worried about a concussion.&lt;/p&gt;

&lt;p&gt;Now, Helmets aren’t exactly designed to protect against concussions. The foam is a bit too hard. But they do a good job of protection otherwise, and &lt;strong&gt;in this case I think that if the helmet didn’t take it the side of my head would have been in a horrible state - and me probably rather more seriously injured.&lt;/strong&gt;&lt;/p&gt;</content><author><name></name></author><category term="York" /><summary type="html">One of my favourite things about York is how bicyclable it is. I grew up in the countryside but somewhere decidedly not safe to cycle from, so it’s a very welcome change. Aside from a couple of minor things it’s worked fine for the last 5 years. On Friday (2017-03-10) I had a bit of an accident.</summary></entry><entry><title type="html">Recursive Enum expression trees in Rust</title><link href="/2017/evco/" rel="alternate" type="text/html" title="Recursive Enum expression trees in Rust" /><published>2017-03-03T00:00:00+00:00</published><updated>2017-03-03T00:00:00+00:00</updated><id>/2017/evco</id><content type="html" xml:base="/2017/evco/">&lt;p&gt;I mused about an implementation of expression trees in Rust &lt;a href=&quot;https://46b.it/2017/rust-generating-syntax-trees/&quot;&gt;two days ago&lt;/a&gt;. This is to build a Genetic Programming library in Rust - an biologically-inspired approach to finding robust solutions to difficult problems.&lt;/p&gt;

&lt;p&gt;As discussed elsewhere I’ve become a keen fan of Rust. This language’s limited generics pose interesting problems for expressing and generating equations as described above.&lt;/p&gt;

&lt;p&gt;There are two common ways to represent a tree datastructure:
&lt;!--more--&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The most obvious way is similar to a Linked List: allocate a separate portion of memory for each node in the tree and store pointers to the child/parent nodes. This makes it cheap to expand the tree and is a very natural representation.&lt;/li&gt;
  &lt;li&gt;The other way is to put the tree into an array. Map the parent-child relationships into indices and you can store a tree as a single block of memory. Adding nodes can require copying all this data into a larger region of memory but this has a variety of benefits such as cache locality.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;We can define the semantics of a heap-allocated expression tree at compile time. Here’s a cut-down example - you can get and play with the &lt;a href=&quot;https://play.rust-lang.org/?gist=ddbde8dbeacb4f501995aef551f5ac7f&amp;amp;version=stable&amp;amp;backtrace=0&quot;&gt;full code here&lt;/a&gt;.&lt;/p&gt;

&lt;div class=&quot;language-rust highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;derive&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Clone&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Debug&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;PartialEq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Eq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;enum&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Equation&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;Add&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Node&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Equation&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Node&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Equation&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// `a + b`&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;Sub&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Node&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Equation&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Node&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Equation&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// `a - b`&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;Mul&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Node&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Equation&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Node&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Equation&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// `a * b`&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;Div&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Node&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Equation&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Node&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Equation&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// `a / b`&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;Neg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Node&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Equation&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// `-a`&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;Sin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Node&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Equation&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// `sin(a)`&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;Float&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;f64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// evaluates to a constant 64-bit float&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;Input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// evaluates to an inputted 64-bit float&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;impl&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Equation&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;eval&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;Self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Environment&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;Self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Action&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;match&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nf&quot;&gt;Add&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;ref&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ref&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;right&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.eval&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;right&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.eval&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
            &lt;span class=&quot;nf&quot;&gt;Sub&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;ref&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ref&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;right&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.eval&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;right&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.eval&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
            &lt;span class=&quot;nf&quot;&gt;Mul&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;ref&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ref&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;right&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.eval&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;right&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.eval&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
            &lt;span class=&quot;nf&quot;&gt;Div&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;ref&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ref&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;right&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;protected_div&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.eval&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;right&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.eval&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt;
            &lt;span class=&quot;nf&quot;&gt;Neg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;ref&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.eval&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
            &lt;span class=&quot;nf&quot;&gt;Sin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;ref&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.eval&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.sin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
            &lt;span class=&quot;nf&quot;&gt;Float&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;Input&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// represent the equation `x` and evaluate for `x=5`&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tree1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;Equation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;{:?}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tree1&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.eval&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;5.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;// represent the equation `x * sin(4.0)` and evaluate for `x=-7.3`&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tree2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;
      &lt;span class=&quot;nn&quot;&gt;Equation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;Mul&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;nf&quot;&gt;node&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;Equation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
        &lt;span class=&quot;nf&quot;&gt;node&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;Equation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;Sin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
          &lt;span class=&quot;nf&quot;&gt;node&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;Equation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;Float&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;4.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;{:?}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tree2&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.eval&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;7.3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;// represent the equation `x + sin(x)` and evaluate for `x=99.1` and `x=16.3`&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tree3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;
      &lt;span class=&quot;nn&quot;&gt;Equation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;Add&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;nf&quot;&gt;node&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;Equation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
        &lt;span class=&quot;nf&quot;&gt;node&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;Equation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;Sin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
          &lt;span class=&quot;nf&quot;&gt;node&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;Equation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;{:?}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tree3&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.eval&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;99.1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tree3&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.eval&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;16.3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;This works for Genetic Programming and I’ve devised nice ways to randomly generate these trees - see the &lt;a href=&quot;https://github.com/46bit/evco/blob/master/examples/symbolic_regression.rs&quot;&gt;Symbolic Regression example&lt;/a&gt; and (this might not be obvious) &lt;a href=&quot;https://46bit.github.io/evco/evco/gp/tree/index.html&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;evco::gp::tree&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;However this does limit flexibility. Using a generic tree datastructure would allow for easily introducing or removing sorts of nodes at compile time. I found that in DEAP this sort of flexibility helped for experimenting but tended not to stick around, so it might well be better.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;That’s all for now, it’s time for bed. Sometime soon I’d like to write about &lt;a href=&quot;https://www.theguardian.com/world/2017/mar/01/silicon-valley-sexual-harassment-startups&quot;&gt;diversity experiences in tech&lt;/a&gt;, and how EVCO generates trees.&lt;/em&gt;&lt;/p&gt;</content><author><name></name></author><category term="Hacking" /><summary type="html">I mused about an implementation of expression trees in Rust two days ago. This is to build a Genetic Programming library in Rust - an biologically-inspired approach to finding robust solutions to difficult problems. As discussed elsewhere I’ve become a keen fan of Rust. This language’s limited generics pose interesting problems for expressing and generating equations as described above. There are two common ways to represent a tree datastructure:</summary></entry></feed>